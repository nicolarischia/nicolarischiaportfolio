<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nicola Rischia</title>
    <link rel="icon" type="image/svg+xml" href="/nicolarischiaportfolio/favicon.svg">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-icons-font@v6/font/simple-icons.min.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-color: #1f242d;
            --secondary-bg-color: #323946;
            --main-color: #7cf03d;
            --white-color: #fff;
            --disabled-color: #fff3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--white-color);
            scroll-behavior: smooth;
            position: relative;
            overflow-x: hidden;
        }

        #background-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        header {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            padding: 2rem;
        }

        header h1 {
            font-size: 3rem;
            background: linear-gradient(90deg, #7cf03d, #ffa500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        header p {
            margin: 1rem 0;
            font-size: 1.2rem;
        }

        .header-buttons {
            display: flex;
            gap: 1rem;
            /* Spazio uniforme tra i bottoni */
            justify-content: center;
            align-items: center;
            margin-top: 1.5rem;
        }

        header a {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background-color: var(--main-color);
            color: var(--bg-color);
            border-radius: 8px;
            text-decoration: none;
            transition: background 0.3s ease;
        }

        header a:hover {
            background-color: #a8ff78;
        }

        section {
            padding: 4rem 2rem;
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        section h2 {
            font-size: 2rem;
            color: var(--main-color);
            margin-bottom: 1rem;
            position: relative;
        }

        section h2::after {
            content: "";
            display: block;
            margin: 0.7rem auto 0 auto;
            width: 60px;
            height: 4px;
            border-radius: 2px;
            background: linear-gradient(90deg, #7cf03d 0%, #ffa500 100%);
            opacity: 0.85;
        }

        .skills {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 3rem;
            margin: 2rem 0;
        }

        .skill {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--main-color);
            width: 80px;
        }

        .skill i {
            font-size: 3rem;
        }

        .skill span {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--white-color);
            text-align: center;
        }

        .projects {
            display: grid;
            gap: 2rem;
        }

        .card {
            background-color: var(--secondary-bg-color);
            padding: 1.5rem;
            border-radius: 12px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 10px var(--main-color);
        }

        .card img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .contacts a {
            display: inline-block;
            margin: 0 1rem;
            color: var(--main-color);
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .contacts a:hover {
            opacity: 0.6;
        }

        /* --- PORTFOLIO CAROUSEL --- */
        .portfolio {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto 4rem auto;
            text-align: center;
        }

        .heading {
            font-size: 2.5rem;
            color: var(--main-color);
            margin-bottom: 2rem;
        }

        .portfolio-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 3rem;
            align-items: stretch;
        }

        @media (max-width: 900px) {
            .portfolio-container {
                grid-template-columns: 1fr;
            }
        }

        .portfolio-box {
            background: var(--secondary-bg-color);
            border-radius: 1rem;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 500px;
        }

        .portfolio-detail {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .portfolio-detail.active {
            display: flex;
        }

        .portfolio-box .numb {
            font-size: 4rem;
            -webkit-text-stroke: .07rem var(--white-color);
            color: transparent;
            line-height: 1;
        }

        .portfolio-box h3 {
            font-size: 2rem;
            margin: .8rem 0 2rem;
        }

        .portfolio-box p {
            font-size: 1.1rem;
        }

        .portfolio-box .tech {
            margin: 2rem 0;
            color: var(--main-color);
            border-bottom: .1rem solid var(--white-color);
            padding-bottom: 1rem;
        }

        .portfolio-box .live-github {
            margin-top: 1.5rem;
        }

        .portfolio-box .live-github a {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            font-size: 2rem;
            color: var(--white-color);
            border-radius: 50%;
            background: var(--bg-color);
            margin-right: 1rem;
            transition: .3s;
            text-decoration: none;
        }

        .portfolio-box .live-github a:hover {
            color: var(--main-color);
            background: var(--secondary-bg-color);
        }

        .portfolio-box .live-github a span {
            position: absolute;
            top: -60%;
            left: 50%;
            transform: translateX(-50%) scale(.9);
            font-size: 1rem;
            white-space: nowrap;
            padding: .5rem 1rem;
            border-radius: .6rem;
            pointer-events: none;
            background: var(--white-color);
            color: var(--bg-color);
            opacity: 0;
            transition: .2s;
            z-index: 2;
        }

        .portfolio-box .live-github a:hover span {
            top: -80%;
            opacity: 1;
            transform: translateX(-50%) scale(1);
        }

        .portfolio-box .portfolio-carousel {
            width: 100%;
            height: 350px;
            border-radius: 1rem;
            overflow: hidden;
            background: var(--bg-color);
            margin-bottom: 1.5rem;
        }

        .portfolio-carousel .img-slide {
            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: 100%;
            height: inherit;
            transition: .5s;
        }

        .portfolio-carousel .img-item {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .portfolio-carousel .img-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 1rem;
            margin: 0;
        }

        .portfolio-box .navigation {
            text-align: center;
            margin-top: 1rem;
            width: 100%;
        }

        .portfolio-box .navigation button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: .4rem;
            background: var(--secondary-bg-color);
            border: .2rem solid var(--main-color);
            border-radius: .6rem;
            font-size: 2rem;
            color: var(--main-color);
            cursor: pointer;
            transition: .3s;
            margin: 0 0.75rem;
        }

        .portfolio-box .navigation button.disabled {
            border-color: var(--secondary-bg-color);
            color: var(--disabled-color);
            cursor: not-allowed;
        }

        @media (max-width: 600px) {
            .portfolio-box {
                min-height: 350px;
                padding: 1rem 0.2rem;
            }

            .portfolio-box .portfolio-carousel {
                height: 200px;
            }
        }

        .info-gradient {
            background: linear-gradient(90deg, #7cf03d, #ffa500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        .info-btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            background: linear-gradient(90deg, #7cf03d, #ffa500);
            color: var(--bg-color);
            transition: background 0.3s ease;
            border: none;
            font-size: 1.2rem;
        }

        .info-btn:hover {
            filter: brightness(1.1);
            box-shadow: 0 0 10px #7cf03d55;
        }

        .info-btn i {
            font-size: 2rem;
            color: var(--bg-color);
            vertical-align: middle;
        }

        /* --- TIMELINE STILI --- */
        .vertical-timeline {
            position: fixed;
            top: 50%;
            right: 40px;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 4.5rem;
            z-index: 100;
        }

        .timeline-dot {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: linear-gradient(135deg, #7cf03d 0%, #ffa500 100%);
            border: 3px solid var(--secondary-bg-color);
            transition: box-shadow 0.3s, border 0.3s, width 0.3s, height 0.3s;
            box-shadow: 0 0 0 0 #ffa50055;
            cursor: pointer;
            position: relative;
        }

        .timeline-dot.active,
        .timeline-dot:hover {
            border: 3px solid #ffa500;
            box-shadow: 0 0 0 8px #ffa50044;
        }

        .timeline-dot::after {
            content: attr(title);
            position: absolute;
            right: 130%;
            /* Sposta il tooltip a sinistra */
            top: 50%;
            transform: translateY(-50%);
            background: var(--secondary-bg-color);
            color: var(--white-color);
            padding: 0.4rem 1rem;
            border-radius: 8px;
            font-size: 1rem;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s, right 0.2s;
            white-space: nowrap;
            box-shadow: 0 2px 12px #0004;
            border: 1.5px solid #ffa500;
        }

        .timeline-dot:hover::after {
            opacity: 1;
            right: 150%;
            /* Sposta leggermente più a sinistra quando visibile */
        }

        @media (max-width: 900px) {
            .vertical-timeline {
                right: 10px;
                gap: 2.5rem;
            }

            .timeline-dot {
                width: 18px;
                height: 18px;
            }
        }

        @media (max-width: 600px) {
            .vertical-timeline {
                display: none;
            }
        }

        .tech i {
            font-size: 2rem;
            margin: 0 0.5rem;
            vertical-align: middle;
            transition: transform 0.2s;
        }

        .tech i:hover {
            transform: scale(1.2);
        }

        /* --- SERVICES SECTION --- */
        .services-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        @media (max-width: 1000px) {
            .services-container {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 700px) {
            .services-container {
                grid-template-columns: 1fr;
            }
        }

        .services-container .services-box {
            padding: 1.5rem 1rem;
            background: var(--secondary-bg-color);
            border: .2rem solid var(--secondary-bg-color);
            border-radius: 1rem;
            transition: .5s;
            /* Box più piccoli */
            min-width: 0;
            max-width: 320px;
            margin: 0 auto;
        }

        .services-box .icon {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
        }

        .services-box .icon i {
            font-size: 2.5rem;
            transition: .5s;
        }

        .service-dot {
            display: inline-block;
            position: absolute;
            top: 50%;
            right: -18px;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: linear-gradient(135deg, #7cf03d 0%, #ffa500 100%);
            border: 2px solid var(--secondary-bg-color);
            box-shadow: 0 0 8px #ffa50055;
        }

        .services-box {
            position: relative;
        }

        /* --- LOADER STILI --- */
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100vw;
            height: 100vh;
            background: var(--bg-color, #1f242d);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }

        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 6px solid #ffa50055;
            border-top: 6px solid #7cf03d;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1.5rem;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loader-text {
            color: var(--main-color, #7cf03d);
            font-size: 1.3rem;
            letter-spacing: 2px;
            font-weight: 500;
        }

        body.loaded #loader {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }

        /* --- STILI MODALE RICERCA --- */
        #search-modal {
            position: fixed;
            inset: 0;
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            background: none;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            padding: 1rem;
        }

        #search-modal.visible {
            opacity: 1;
            visibility: visible;
        }

        .search-backdrop {
            position: absolute;
            inset: 0;
            background: #000a;
            z-index: 1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #search-modal.visible .search-backdrop {
            opacity: 1;
        }

        .search-box {
            position: relative;
            z-index: 2;
            background: transparent;
            border-radius: 1.3rem;
            padding: 2rem 6vw 1.5rem 6vw;
            width: 90%;
            max-width: 1400px;
            min-width: 320px;
            max-height: 90vh;
            box-shadow: 0 8px 32px 0 #0006, 0 2px 24px #7cf03d33;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            border: none;
            overflow: hidden;
            backdrop-filter: blur(18px) saturate(160%);
            -webkit-backdrop-filter: blur(18px) saturate(160%);
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s ease;
        }

        #search-modal.visible .search-box {
            transform: scale(1) translateY(0);
        }

        .search-box::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 1.3rem;
            pointer-events: none;
            z-index: 1;
            padding: 2px;
            background: transparent;
            background-size: 400% 400%;
            filter: blur(4px);
            opacity: 0.8;
            animation: borderGlow 6s linear infinite;
            box-shadow: 0 0 0 2px #fff2 inset;
        }

        @keyframes borderGlow {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .search-box>* {
            position: relative;
            z-index: 2;
        }

        #close-search {
            position: absolute;
            top: 1.575rem;
            right: 1.2rem;
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--main-color);
            cursor: pointer;
            z-index: 3;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        #close-search:hover {
            opacity: 1;
        }

        #search-input {
            padding: 1rem 1.2rem;
            border-radius: 0.7rem;
            border: none;
            font-size: 1.15rem;
            margin-bottom: 1.2rem;
            outline: none;
            background: rgba(255, 255, 255, 0.13);
            color: var(--white-color);
            box-shadow: 0 2px 8px #0002;
            transition: background 0.2s;
        }

        #search-input:focus {
            background: rgba(255, 255, 255, 0.22);
        }

        #search-sections {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            max-height: calc(90vh - 200px);
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        /* Scrollbar personalizzata per la ricerca */
        #search-sections::-webkit-scrollbar {
            width: 6px;
        }

        #search-sections::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        #search-sections::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, #7cf03d, #ffa500);
            border-radius: 3px;
        }

        #search-sections::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(90deg, #a8ff78, #ffb84d);
        }

        .search-section-title {
            font-size: 1.05rem;
            color: var(--main-color);
            margin-bottom: 0.3rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-align: left;
        }

        .search-section ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .search-section ul li {
            padding: 0.8rem 1.2rem;
            border-radius: 0.6rem;
            cursor: pointer;
            color: var(--white-color);
            font-size: 1.08rem;
            transition: background 0.18s, color 0.18s;
            margin-bottom: 0.2rem;
            background: transparent;
        }

        .search-section ul li:hover,
        .search-section ul li.active {
            background: linear-gradient(90deg, #7cf03d 0%, #ffa500 100%);
            color: var(--bg-color);
        }

        /* Responsive per il box di ricerca */
        @media (max-width: 768px) {
            #search-modal {
                padding: 0.5rem;
            }

            .search-box {
                padding: 1rem 4vw 0.8rem 4vw;
                width: 95%;
                min-width: 280px;
                max-height: 85vh;
            }

            #search-sections {
                max-height: calc(85vh - 180px);
            }

            #search-input {
                font-size: 1rem;
                padding: 0.8rem 1rem;
            }

            .search-section-title {
                font-size: 0.95rem;
            }

            .search-section ul li {
                font-size: 1rem;
                padding: 0.7rem 1rem;
            }

            #close-search {
                top: 1.675rem;
                right: 1.2rem;
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            #search-modal {
                padding: 0.3rem;
            }

            .search-box {
                padding: 1rem 3vw 0.8rem 3vw;
                width: 98%;
                min-width: 250px;
                max-height: 80vh;
            }

            #search-sections {
                max-height: calc(80vh - 160px);
            }

            #search-input {
                font-size: 0.9rem;
                padding: 0.7rem 0.8rem;
            }

            .search-section-title {
                font-size: 0.9rem;
            }

            .search-section ul li {
                font-size: 0.9rem;
                padding: 0.6rem 0.8rem;
            }

            #close-search {
                top: 1.675rem;
                right: 1.2rem;
                font-size: 1.5rem;
            }
        }

        /* Responsive verticale per schermi bassi */
        @media (max-height: 600px) {
            #search-modal {
                padding: 0.5rem;
            }

            .search-box {
                padding: 1rem 4vw 0.8rem 4vw;
                max-height: 95vh;
            }

            #search-sections {
                max-height: calc(95vh - 140px);
                gap: 0.8rem;
            }

            #search-input {
                padding: 0.7rem 1rem;
                margin-bottom: 0.8rem;
            }

            .search-section-title {
                margin-bottom: 0.2rem;
            }

            .search-section ul li {
                padding: 0.6rem 1rem;
                margin-bottom: 0.1rem;
            }
        }

        @media (max-height: 500px) {
            .search-box {
                padding: 0.8rem 3vw 0.6rem 3vw;
                max-height: 98vh;
            }

            #search-sections {
                max-height: calc(98vh - 120px);
                gap: 0.6rem;
            }

            #search-input {
                padding: 0.6rem 0.8rem;
                margin-bottom: 0.6rem;
                font-size: 0.9rem;
            }

            .search-section-title {
                font-size: 0.9rem;
                margin-bottom: 0.15rem;
            }

            .search-section ul li {
                padding: 0.5rem 0.8rem;
                font-size: 0.9rem;
            }

            #close-search {
                top: 0.6rem;
                right: 0.6rem;
                font-size: 1.3rem;
            }
        }
    </style>
</head>

<body>
    <!-- Loader animato -->
    <div id="loader">
        <div class="loader-spinner"></div>
        <span class="loader-text">Caricamento...</span>
    </div>

    <canvas id="background-canvas"></canvas>
    <header>
        <div>
            <h1>Nicola Rischia</h1>
            <p>Sviluppatore web appassionato di design e tecnologie moderne.</p>
            <div class="header-buttons">
                <a href="#chi-sono" aria-label="Info" class="info-btn"><i class="fas fa-info-circle"></i></a>
                <button id="open-search" aria-label="Cerca nel sito" class="info-btn">
                    <i class="fas fa-search"></i>
                </button>
                <a href="cv-nicola-rischia.pdf" download class="info-btn" aria-label="Scarica CV">
                    <i class="fas fa-scroll"></i>
                </a>
            </div>
        </div>
    </header>

    <section id="chi-sono">
        <h2>Chi Sono</h2>
        <p>
            Sono uno sviluppatore web con esperienza nella creazione di siti moderni, performanti e accessibili. Amo
            sperimentare con nuove tecnologie e portare idee creative online.
        </p>
    </section>

    <!-- services section -->
    <section class="services" id="services">
        <h2>I Miei Servizi</h2>
        <div class="services-container">
            <div class="services-box">
                <div class="icon">
                    <i class="bx bx-code-alt" style="color: #f03da5;"></i>
                </div>
                <h3>Sviluppo Web</h3>
                <p>
                    Creo siti web moderni, veloci e adatti a tutti i dispositivi. Portando online la tua idea!
                </p>
            </div>

            <div class="services-box">
                <div class="icon">
                    <i class="bx bx-grid" style="color: #00ff62;"></i>
                </div>
                <h3>Siti Wix Professionali</h3>
                <p>
                    Realizzo siti professionali su Wix, facili da gestire e pronti per i tuoi clienti.
                </p>
            </div>

            <div class="services-box">
                <div class="icon">
                    <i class="bx bx-data" style="color: #e07a5f;"></i>
                </div>
                <h3>Gestione Dati e Form</h3>
                <p>
                    Creo moduli per raccogliere dati dai tuoi clienti in modo semplice e sicuro.
                </p>
            </div>

            <div class="services-box">
                <div class="icon">
                    <i class="bx bx-network-chart" style="color: #1ba0d7;"></i>
                </div>
                <h3>Networking</h3>
                <p>
                    Realizzo schemi di rete e simulazioni con Cisco Packet Tracer.<br>
                    Non lavoro su dispositivi reali.
                </p>
            </div>
        </div>
    </section>

    <section id="skills">
        <h2>Skills</h2>
        <div class="skills">
            <div class="skill"><i class="fab fa-html5" style="color: #e34c26;"></i><span>HTML5</span></div>
            <div class="skill"><i class="fab fa-css3-alt" style="color: #1572b6;"></i><span>CSS3</span></div>
            <div class="skill"><i class="fab fa-js" style="color: #f7df1e;"></i><span>JavaScript</span></div>
            <div class="skill"><i class="fab fa-react" style="color: #61dbfb;"></i><span>React</span></div>
            <div class="skill"><i class="fab fa-node-js" style="color: #68a063;"></i><span>Node.js</span></div>
            <div class="skill"><i class="fab fa-git-alt" style="color: #f34f29;"></i><span>Git</span></div>
            <div class="skill"><i class="fab fa-figma" style="color: #f24e1e;"></i><span>Figma</span></div>
            <div class="skill"><i class="fab fa-java" style="color: #007396;"></i><span>Java</span></div>
            <div class="skill"><i class="fas fa-desktop" style="color: #f89820;"></i><span>Swing UI</span></div>
            <div class="skill"><i class="fab fa-wix" style="color: #000;"></i><span>Wix</span></div>
            <div class="skill"><i class="fas fa-code" style="color: #5555ff;"></i><span>C</span></div>
            <div class="skill"><i class="si si-mongodb" style="color: #47A248;"></i><span>MongoDB</span></div>
            <div class="skill"><i class="fab fa-php" style="color: #777bb4;"></i><span>PHP</span></div>
            <div class="skill"><i class="fab fa-python" style="color: #3776ab;"></i><span>Python</span></div>
            <div class="skill"><i class="fab fa-angular" style="color: #dd0031;"></i><span>Angular</span></div>
            <div class="skill"><i class="fas fa-network-wired" style="color: #1ba0d7;"></i><span>Cisco PT</span></div>
            <div class="skill"><i class="fas fa-pen" style="color: #e07a5f;"></i><span>Jotform</span></div>
            <div class="skill"><i class="fas fa-table" style="color: #a8dadc;"></i><span>Airtable</span></div>
            <div class="skill"><i class="si si-mysql" style="color: #00618a;"></i><span>MySQL</span></div>
        </div>
    </section>

    <!-- portfolio section -->
    <section class="portfolio" id="progetti">
        <h2>I Miei Progetti</h2>
        <div class="portfolio-container">
            <div class="portfolio-box">
                <div class="portfolio-detail active">
                    <p class="numb">01</p>
                    <h3>Progetto Backend & Frontend</h3>
                    <p>Applicazione web completa per la gestione di dati e utenti, sviluppata con React per il frontend
                        e Node.js/MongoDB per il backend. Include autenticazione, dashboard dinamica e API RESTful.</p>
                    <div class="tech">
                        <i class="fab fa-html5" style="color: #e34c26;" title="HTML5"></i>
                        <i class="fab fa-css3-alt" style="color: #1572b6;" title="CSS3"></i>
                        <i class="fab fa-js" style="color: #f7df1e;" title="JavaScript"></i>
                        <i class="fab fa-react" style="color: #61dbfb;" title="React"></i>
                        <i class="fab fa-node-js" style="color: #68a063;" title="Node.js"></i>
                        <i class="si si-mongodb" style="color: #47A248;" title="MongoDB"></i>
                    </div>
                    <div class="live-github">
                        <a href="https://github.com/nicolarischia/ProgettoSport-Natili-Rischia-Tiberi"><i
                                class="fab fa-github"></i><span>Github Repository</span></a>
                    </div>
                </div>
                <div class="portfolio-detail">
                    <p class="numb">02</p>
                    <h3>Sito Web realizzato su WIX</h3>
                    <p>Sito vetrina moderno e responsive creato con la piattaforma Wix, ideale per presentare servizi e
                        portfolio personale. Personalizzazione grafica, moduli di contatto e integrazione social.</p>
                    <div class="tech">
                        <i class="fab fa-wix" style="color: #000;" title="Wix"></i>
                    </div>
                    <div class="live-github">
                        <a href="https://info2211238.wixsite.com/gioielleriaavorio"><i class="fas fa-arrow-left"
                                style="transform: rotate(135deg);"></i><span>Live
                                Project</span></a>
                    </div>
                </div>
                <div class="portfolio-detail">
                    <p class="numb">03</p>
                    <h3>Progetto Frontend</h3>
                    <p>Sito vetrina moderno e responsive creato con la piattaforma Wix, ideale per presentare servizi e
                        portfolio personale. Personalizzazione grafica, moduli di contatto e integrazione social.</p>
                    <div class="tech">
                        <i class="fab fa-css3-alt" style="color: #1572b6" title="CSS3"></i>
                        <i class="fab fa-js" style="color: #f7df1e;" title="JavaScript"></i>
                        <i class="fab fa-react" style="color: #61dbfb;" title="Wix"></i>
                        <i class="fab fa-bootstrap" style="color: #7236ff;" title="Bootstrap"></i>
                    </div>
                    <div class="live-github">
                        <a href="https://github.com/Garlics07/Progetto1_Gilardi_Rischia"><i
                                class="fab fa-github"></i><span>Github Repository</span></a>
                    </div>
                </div>
            </div>
            <div class="portfolio-box">
                <!--CAROSELLO IMMAGINI-->
                <div class="portfolio-carousel">
                    <div class="img-slide">
                        <div class="img-item">
                            <img src="img/progetto1.png" alt="Progetto 1">
                        </div>
                        <div class="img-item">
                            <img src="img/progetto2.png" alt="Progetto 2">
                        </div>
                        <div class="img-item">
                            <img src="img/progetto3.png" alt="Progetto 3">
                        </div>
                    </div>
                </div>
                <div class="navigation">
                    <button class="arrow-left disabled"><i class="fas fa-chevron-left"></i></button>
                    <button class="arrow-right"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </div>
    </section>

    <section id="contatti">
        <h2>Contatti</h2>
        <div class="contacts">
            <a href="mailto:nicolarischia1@gmail.com" target="_blank">
                <i class="fas fa-envelope" style="color: #ffa600; margin-right: 0.5rem;"></i>Email
            </a>
            <a href="https://github.com/nicolarischia" target="_blank">
                <i class="fab fa-github" style="color: #8460be; margin-right: 0.5rem;"></i>GitHub
            </a>
            <a href="https://linkedin.com/in/nicolarischia" target="_blank">
                <i class="fab fa-linkedin" style="color: #0A66C2; margin-right: 0.5rem;"></i>LinkedIn
            </a>
            <a href="https://wa.me/3664079323" target="_blank">
                <i class="fab fa-whatsapp" style="color: #25D366; margin-right: 0.5rem;"></i>WhatsApp
            </a>
            <a href="cv-nicola-rischia.pdf" download target="_blank">
                <i class="fas fa-scroll" style="color: #ff3c00; margin-right: 0.5rem;"></i>Scarica CV
            </a>
        </div>
    </section>

    <!-- Timeline verticale destra -->
    <div class="vertical-timeline">
        <a href="#chi-sono" class="timeline-dot" data-section="chi-sono" title="Chi sono"></a>
        <a href="#services" class="timeline-dot" data-section="services" title="Servizi"></a>
        <a href="#skills" class="timeline-dot" data-section="skills" title="Skills"></a>
        <a href="#progetti" class="timeline-dot" data-section="progetti" title="Progetti"></a>
        <a href="#contatti" class="timeline-dot" data-section="contatti" title="Contatti"></a>
    </div>

    <!-- Modale di ricerca -->
    <div id="search-modal" style="display:none;">
        <div class="search-backdrop"></div>
        <div class="search-box">
            <button id="close-search" aria-label="Chiudi ricerca">&times;</button>
            <input type="text" id="search-input" placeholder="✨ Cerca nel sito..." autocomplete="off" />
            <div id="search-sections">
                <div class="search-section">
                    <div class="search-section-title">Naviga alle sezioni</div>
                    <ul id="search-suggestions-sections"></ul>
                </div>
                <div class="search-section">
                    <div class="search-section-title">Azioni rapide</div>
                    <ul id="search-suggestions-actions"></ul>
                </div>
                <div class="search-section">
                    <div class="search-section-title">Risultati nel sito</div>
                    <ul id="search-suggestions-content"></ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('background-canvas');
        const ctx = canvas.getContext('2d');
        let particlesArray;

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', function () {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            init();
        });

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 1;
                this.speedX = Math.random() * 0.5 - 0.25;
                this.speedY = Math.random() * 0.5 - 0.25;
                this.color = Math.random() > 0.5
                    ? 'rgba(124, 240, 61, 0.6)'
                    : 'rgba(255, 165, 0, 0.5)';
                // Forma random: cerchio, quadrato, triangolo, pentagono
                const shapes = ['circle', 'square', 'triangle', 'pentagon'];
                this.shape = shapes[Math.floor(Math.random() * shapes.length)];
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                if (this.shape === 'circle') {
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                } else if (this.shape === 'square') {
                    ctx.fillRect(this.x - this.size, this.y - this.size, this.size * 2, this.size * 2);
                } else if (this.shape === 'triangle') {
                    ctx.moveTo(this.x, this.y - this.size);
                    ctx.lineTo(this.x - this.size, this.y + this.size);
                    ctx.lineTo(this.x + this.size, this.y + this.size);
                    ctx.closePath();
                    ctx.fill();
                } else if (this.shape === 'pentagon') {
                    const sides = 5;
                    const angle = (2 * Math.PI) / sides;
                    ctx.moveTo(
                        this.x + this.size * Math.cos(0),
                        this.y + this.size * Math.sin(0)
                    );
                    for (let i = 1; i <= sides; i++) {
                        ctx.lineTo(
                            this.x + this.size * Math.cos(i * angle),
                            this.y + this.size * Math.sin(i * angle)
                        );
                    }
                    ctx.closePath();
                    ctx.fill();
                }
            }
        }

        function init() {
            particlesArray = [];
            for (let i = 0; i < 120; i++) {
                particlesArray.push(new Particle());
            }
        }

        init();

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].draw();
                particlesArray[i].update();
            }
            requestAnimationFrame(animate);
        }

        requestAnimationFrame(animate);

        // --- PORTFOLIO CAROUSEL SCRIPT ---
        document.addEventListener('DOMContentLoaded', function () {
            const portfolioDetails = document.querySelectorAll('.portfolio-detail');
            const imgItems = document.querySelectorAll('.portfolio-carousel .img-item');
            const imgSlide = document.querySelector('.portfolio-carousel .img-slide');
            const arrowLeft = document.querySelector('.portfolio-box .navigation .arrow-left');
            const arrowRight = document.querySelector('.portfolio-box .navigation .arrow-right');
            let index = 0;

            const totalSlides = imgItems.length;

            const updateCarousel = () => {
                portfolioDetails.forEach(detail => detail.classList.remove('active'));
                imgSlide.style.transform = `translateX(-${index * 100}%)`;
                if (index === 0) {
                    arrowLeft.classList.add('disabled');
                } else {
                    arrowLeft.classList.remove('disabled');
                }
                if (index === totalSlides - 1) {
                    arrowRight.classList.add('disabled');
                } else {
                    arrowRight.classList.remove('disabled');
                }
                if (portfolioDetails[index]) portfolioDetails[index].classList.add('active');
            }

            arrowLeft.addEventListener('click', () => {
                index--;
                if (index < 0) {
                    index = 0;
                }
                updateCarousel();
            });

            arrowRight.addEventListener('click', () => {
                index++;
                if (index > totalSlides - 1) {
                    index = totalSlides - 1;
                }
                updateCarousel();
            });

            updateCarousel();
        });

        // --- TIMELINE SCRIPT ---
        document.addEventListener('DOMContentLoaded', function () {
            const timelineDots = document.querySelectorAll('.timeline-dot');
            const sections = document.querySelectorAll('section');
            let index = 0;

            timelineDots.forEach(dot => {
                dot.addEventListener('click', function () {
                    timelineDots.forEach(dot => dot.classList.remove('active'));
                    this.classList.add('active');
                    const targetSection = document.querySelector(`#${this.dataset.section}`);
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            window.addEventListener('scroll', () => {
                let activeIndex = -1;
                const trigger = window.innerHeight / 2; // metà schermo

                sections.forEach((section, i) => {
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= trigger) {
                        activeIndex = i;
                    }
                });

                timelineDots.forEach(dot => dot.classList.remove('active'));

                if (activeIndex >= 0) {
                    timelineDots[activeIndex].classList.add('active');
                }
            });
        });

        // Nasconde il loader quando la pagina è pronta
        window.addEventListener('load', function () {
            document.body.classList.add('loaded');
            setTimeout(() => {
                const loader = document.getElementById('loader');
                if (loader) loader.style.display = 'none';
            }, 600); // attende la transizione
        });

        // --- SCROLL FLUIDO PER IL BOTTONE INFO ---
        document.addEventListener('DOMContentLoaded', function () {
            const infoBtn = document.querySelector('a.info-btn[href="#chi-sono"]');
            if (infoBtn) {
                infoBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.getElementById('chi-sono');
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            }
        });

        // --- SCRIPT MODALE RICERCA ---
        document.addEventListener('DOMContentLoaded', function () {
            const openSearchBtn = document.getElementById('open-search');
            const searchModal = document.getElementById('search-modal');
            const closeSearchBtn = document.getElementById('close-search');
            const searchInput = document.getElementById('search-input');
            const suggestionsSections = document.getElementById('search-suggestions-sections');
            const suggestionsActions = document.getElementById('search-suggestions-actions');
            const suggestionsContent = document.getElementById('search-suggestions-content');
            let currentSectionIndex = -1;
            let currentActionIndex = -1;
            let currentContentIndex = -1;

            const sectionData = [
                { label: "Chi Sono", keywords: ["chi sono", "presentazione", "about"], target: "#chi-sono" },
                { label: "Servizi", keywords: ["servizi", "offerta", "web", "wix", "dati", "networking", "form"], target: "#services" },
                { label: "Skills", keywords: ["skills", "competenze", "linguaggi", "tecnologie"], target: "#skills" },
                { label: "Progetti", keywords: ["progetti", "portfolio", "lavori", "project"], target: "#progetti" },
                { label: "Contatti", keywords: ["contatti", "email", "github", "linkedin", "whatsapp"], target: "#contatti" }
            ];
            const actionData = [
                { label: "Scarica CV", keywords: ["cv", "curriculum", "scarica", "download"], action: "download-cv", href: "cv-nicola-rischia.pdf" }
            ];

            // Indicizza i contenuti testuali del sito per la ricerca libera
            function getContentIndex() {
                const results = [];
                
                // Cerca in tutte le sezioni principali
                document.querySelectorAll('section').forEach(section => {
                    const id = section.id;
                    const title = section.querySelector('h2') ? section.querySelector('h2').innerText : '';
                    const text = section.innerText.replace(/\s+/g, ' ').trim();
                    if (title && text) {
                        results.push({
                            label: `${title}`,
                            snippet: text.length > 120 ? text.slice(0, 120) + '...' : text,
                            target: `#${id}`,
                            keywords: [title.toLowerCase(), ...title.toLowerCase().split(' ')]
                        });
                    }
                });
                
                // Cerca anche nei progetti (portfolio-detail)
                document.querySelectorAll('.portfolio-detail').forEach((el, idx) => {
                    const title = el.querySelector('h3') ? el.querySelector('h3').innerText : '';
                    const text = el.innerText.replace(/\s+/g, ' ').trim();
                    if (title && text) {
                        results.push({
                            label: `Progetto: ${title}`,
                            snippet: text.length > 120 ? text.slice(0, 120) + '...' : text,
                            target: '#progetti',
                            keywords: [title.toLowerCase(), 'progetto', 'portfolio', ...title.toLowerCase().split(' ')]
                        });
                    }
                });
                
                // Cerca nei servizi
                document.querySelectorAll('.services-box').forEach((service, idx) => {
                    const title = service.querySelector('h3') ? service.querySelector('h3').innerText : '';
                    const text = service.innerText.replace(/\s+/g, ' ').trim();
                    if (title && text) {
                        results.push({
                            label: `Servizio: ${title}`,
                            snippet: text.length > 120 ? text.slice(0, 120) + '...' : text,
                            target: '#services',
                            keywords: [title.toLowerCase(), 'servizio', 'servizi', ...title.toLowerCase().split(' ')]
                        });
                    }
                });
                
                // Cerca nelle skills
                document.querySelectorAll('.skill').forEach((skill, idx) => {
                    const name = skill.querySelector('span') ? skill.querySelector('span').innerText : '';
                    if (name) {
                        results.push({
                            label: `Skill: ${name}`,
                            snippet: `Competenza in ${name}`,
                            target: '#skills',
                            keywords: [name.toLowerCase(), 'skill', 'competenza', 'tecnologia']
                        });
                    }
                });
                
                // Cerca anche nei contatti con precisione migliorata
                document.querySelectorAll('.contacts a').forEach(link => {
                    const label = link.innerText.trim();
                    const href = link.getAttribute('href');
                    const icon = link.querySelector('i');
                    const iconClass = icon ? icon.className : '';
                    
                    if (label && href) {
                        // Determina il tipo di contatto basato sull'icona o href
                        let contactType = '';
                        let keywords = [label.toLowerCase()];
                        
                        if (href.includes('mailto:')) {
                            contactType = 'Email';
                            keywords.push('email', 'mail', 'gmail', 'nicolarischia1@gmail.com');
                        } else if (href.includes('github.com')) {
                            contactType = 'GitHub';
                            keywords.push('github', 'repo', 'repository', 'code');
                        } else if (href.includes('linkedin.com')) {
                            contactType = 'LinkedIn';
                            keywords.push('linkedin', 'professional', 'network');
                        } else if (href.includes('wa.me')) {
                            contactType = 'WhatsApp';
                            keywords.push('whatsapp', 'wa', 'chat', '3664079323');
                        } else if (href.includes('.pdf')) {
                            contactType = 'CV';
                            keywords.push('cv', 'curriculum', 'resume', 'scarica');
                        }
                        
                        results.push({
                            label: `Contatto: ${contactType || label}`,
                            snippet: href,
                            target: href.startsWith('http') || href.startsWith('mailto') ? href : '#contatti',
                            isExternal: href.startsWith('http') || href.startsWith('mailto'),
                            keywords: keywords
                        });
                    }
                });
                
                // Debug: log dei risultati
                console.log('Contenuti indicizzati:', results.length);
                return results;
            }

            let contentIndex = getContentIndex();
            
            // Debug: verifica che contentIndex sia stato inizializzato
            console.log('ContentIndex inizializzato con', contentIndex.length, 'elementi');

            function showModal() {
                searchModal.style.display = 'flex';
                // Forza un reflow per assicurarsi che l'animazione funzioni
                searchModal.offsetHeight;
                setTimeout(() => {
                    searchModal.classList.add('visible');
                }, 10);
                searchInput.value = '';
                updateSuggestions('');
                searchInput.focus();
                document.body.style.overflow = 'hidden';
            }

            function hideModal() {
                searchModal.classList.remove('visible');
                setTimeout(() => {
                    searchModal.style.display = 'none';
                }, 300);
                document.body.style.overflow = '';
            }

            function updateSuggestions(query) {
                const q = query.trim().toLowerCase();
                
                // Sezioni - solo una voce attiva alla volta
                let sectionResults = [];
                if (q === "") {
                    sectionResults = sectionData;
                } else {
                    sectionResults = sectionData.filter(item =>
                        item.label.toLowerCase().includes(q) ||
                        item.keywords.some(k => k.includes(q))
                    );
                }
                suggestionsSections.innerHTML = sectionResults.map((item, idx) =>
                    `<li data-target="${item.target}"${idx === 0 ? ' class="active"' : ''}>${item.label}</li>`
                ).join('');
                currentSectionIndex = sectionResults.length ? 0 : -1;

                // Azioni (es. scarica CV) - solo se non c'è una sezione attiva
                let actionResults = [];
                if (q === "" && sectionResults.length === 0) {
                    actionResults = actionData;
                } else if (q !== "") {
                    actionResults = actionData.filter(item =>
                        item.label.toLowerCase().includes(q) ||
                        item.keywords.some(k => k.includes(q))
                    );
                }
                suggestionsActions.innerHTML = actionResults.map((item, idx) =>
                    `<li data-action="${item.action}" data-href="${item.href || ''}"${idx === 0 && currentSectionIndex === -1 ? ' class="active"' : ''}>${item.label}</li>`
                ).join('');
                currentActionIndex = actionResults.length && currentSectionIndex === -1 ? 0 : -1;

                // Ricerca libera nei contenuti - sempre attiva quando c'è una query
                let contentResults = [];
                if (q.length > 1) {
                    contentResults = contentIndex.filter(item =>
                        item.label.toLowerCase().includes(q) ||
                        item.snippet.toLowerCase().includes(q) ||
                        (item.keywords && item.keywords.some(k => k.includes(q)))
                    );
                }
                suggestionsContent.innerHTML = contentResults.map((item, idx) =>
                    `<li data-target="${item.target}" data-external="${item.isExternal ? '1' : ''}"${idx === 0 && currentSectionIndex === -1 && currentActionIndex === -1 ? ' class="active"' : ''}>
                <strong>${item.label}</strong><br>
                <span style="font-size:0.95em;color:#ccc;">${item.snippet}</span>
            </li>`
                ).join('');
                currentContentIndex = contentResults.length && currentSectionIndex === -1 && currentActionIndex === -1 ? 0 : -1;
                
                // Debug: log dei risultati
                if (q.length > 0) {
                    console.log(`Ricerca "${q}":`, {
                        sezioni: sectionResults.length,
                        azioni: actionResults.length,
                        contenuti: contentResults.length
                    });
                }
                
                // Reset degli indici quando cambia la query
                if (q === "") {
                    currentSectionIndex = sectionResults.length ? 0 : -1;
                    currentActionIndex = sectionResults.length === 0 && actionResults.length ? 0 : -1;
                    currentContentIndex = sectionResults.length === 0 && actionResults.length === 0 && contentResults.length ? 0 : -1;
                }
            }

            openSearchBtn.addEventListener('click', showModal);
            closeSearchBtn.addEventListener('click', hideModal);
            searchModal.querySelector('.search-backdrop').addEventListener('click', hideModal);

            searchInput.addEventListener('input', e => {
                updateSuggestions(e.target.value);
            });

            // Gestione tastiera: frecce su/giù tra sezioni, azioni e contenuti, invio per selezionare
            searchInput.addEventListener('keydown', e => {
                const sectionItems = suggestionsSections.querySelectorAll('li');
                const actionItems = suggestionsActions.querySelectorAll('li');
                const contentItems = suggestionsContent.querySelectorAll('li');
                
                // Crea un array unificato di tutti gli elementi
                const allItems = [...sectionItems, ...actionItems, ...contentItems];
                if (allItems.length === 0) return;

                // Trova l'elemento attualmente attivo
                let currentActiveIndex = -1;
                allItems.forEach((item, index) => {
                    if (item.classList.contains('active')) {
                        currentActiveIndex = index;
                    }
                });

                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    
                    // Rimuovi tutte le classi active
                    allItems.forEach(li => li.classList.remove('active'));
                    
                    // Vai all'elemento successivo (con ciclo)
                    let nextIndex = (currentActiveIndex + 1) % allItems.length;
                    allItems[nextIndex].classList.add('active');
                    
                    // Aggiorna gli indici interni
                    updateInternalIndices(nextIndex, sectionItems.length, actionItems.length);
                    
                    // Scroll automatico all'elemento attivo
                    scrollToActiveElement(allItems[nextIndex]);
                    
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    
                    // Rimuovi tutte le classi active
                    allItems.forEach(li => li.classList.remove('active'));
                    
                    // Vai all'elemento precedente (con ciclo)
                    let prevIndex = currentActiveIndex <= 0 ? allItems.length - 1 : currentActiveIndex - 1;
                    allItems[prevIndex].classList.add('active');
                    
                    // Aggiorna gli indici interni
                    updateInternalIndices(prevIndex, sectionItems.length, actionItems.length);
                    
                    // Scroll automatico all'elemento attivo
                    scrollToActiveElement(allItems[prevIndex]);
                    
                } else if (e.key === 'Enter') {
                    e.preventDefault();
                    if (currentActiveIndex >= 0 && allItems[currentActiveIndex]) {
                        allItems[currentActiveIndex].click();
                    }
                }
            });

            // Funzione helper per aggiornare gli indici interni
            function updateInternalIndices(globalIndex, sectionCount, actionCount) {
                if (globalIndex < sectionCount) {
                    currentSectionIndex = globalIndex;
                    currentActionIndex = -1;
                    currentContentIndex = -1;
                } else if (globalIndex < sectionCount + actionCount) {
                    currentSectionIndex = -1;
                    currentActionIndex = globalIndex - sectionCount;
                    currentContentIndex = -1;
                } else {
                    currentSectionIndex = -1;
                    currentActionIndex = -1;
                    currentContentIndex = globalIndex - sectionCount - actionCount;
                }
            }

            // Funzione per scroll automatico all'elemento attivo
            function scrollToActiveElement(activeElement) {
                if (!activeElement) return;
                
                // Trova il container di scroll (search-sections)
                const scrollContainer = document.getElementById('search-sections');
                if (!scrollContainer) return;
                
                // Calcola la posizione dell'elemento rispetto al container
                const containerRect = scrollContainer.getBoundingClientRect();
                const elementRect = activeElement.getBoundingClientRect();
                
                // Calcola se l'elemento è fuori dalla viewport
                const isAbove = elementRect.top < containerRect.top;
                const isBelow = elementRect.bottom > containerRect.bottom;
                
                if (isAbove) {
                    // Scroll verso l'alto per mostrare l'elemento
                    const scrollAmount = elementRect.top - containerRect.top - 10; // 10px di margine
                    scrollContainer.scrollBy({
                        top: scrollAmount,
                        behavior: 'smooth'
                    });
                } else if (isBelow) {
                    // Scroll verso il basso per mostrare l'elemento
                    const scrollAmount = elementRect.bottom - containerRect.bottom + 10; // 10px di margine
                    scrollContainer.scrollBy({
                        top: scrollAmount,
                        behavior: 'smooth'
                    });
                }
            }

            // Click sulle sezioni
            suggestionsSections.addEventListener('click', function (e) {
                if (e.target.tagName === 'LI') {
                    // Rimuovi tutte le classi active
                    suggestionsSections.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                    suggestionsActions.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                    suggestionsContent.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                    
                    // Aggiungi active solo all'elemento cliccato
                    e.target.classList.add('active');
                    
                    const target = e.target.getAttribute('data-target');
                    hideModal();
                    setTimeout(() => {
                        const section = document.querySelector(target);
                        if (section) section.scrollIntoView({ behavior: 'smooth' });
                    }, 200);
                }
            });

            // Click sulle azioni (es. scarica CV)
            suggestionsActions.addEventListener('click', function (e) {
                if (e.target.tagName === 'LI') {
                    // Rimuovi tutte le classi active
                    suggestionsSections.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                    suggestionsActions.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                    suggestionsContent.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                    
                    // Aggiungi active solo all'elemento cliccato
                    e.target.classList.add('active');
                    
                    const action = e.target.getAttribute('data-action');
                    const href = e.target.getAttribute('data-href');
                    hideModal();
                    if (action === 'download-cv' && href) {
                        setTimeout(() => {
                            window.open(href, '_blank');
                        }, 200);
                    }
                }
            });

            // Click sui risultati contenuto
            suggestionsContent.addEventListener('click', function (e) {
                let li = e.target;
                // Se clicchi su <strong> o <span> risali al <li>
                while (li && li.tagName !== 'LI') li = li.parentElement;
                if (!li) return;
                
                // Rimuovi tutte le classi active
                suggestionsSections.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                suggestionsActions.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                suggestionsContent.querySelectorAll('li').forEach(li => li.classList.remove('active'));
                
                // Aggiungi active solo all'elemento cliccato
                li.classList.add('active');
                
                const target = li.getAttribute('data-target');
                const isExternal = li.getAttribute('data-external') === '1';
                hideModal();
                setTimeout(() => {
                    if (isExternal) {
                        window.open(target, '_blank');
                    } else {
                        const section = document.querySelector(target);
                        if (section) section.scrollIntoView({ behavior: 'smooth' });
                    }
                }, 200);
            });

            // Scorciatoia tastiera: Ctrl+K o Cmd+K per aprire/chiudere la ricerca
            document.addEventListener('keydown', function (e) {
                if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k') {
                    e.preventDefault();
                    if (searchModal.style.display === 'flex') {
                        hideModal();
                    } else {
                        showModal();
                    }
                }
            });

            // Aggiorna l'indice dei contenuti se la pagina cambia (opzionale)
            window.addEventListener('load', () => {
                contentIndex = getContentIndex();
            });

            // Inizializza suggerimenti all'apertura
            updateSuggestions('');
        });
    </script>
</body>

</html>